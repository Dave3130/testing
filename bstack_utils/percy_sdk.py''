import os
from percy import percy_screenshot

from bstack_utils.constants import STAGE, EVENTS
from bstack_utils.measure import measure


# from percy import percy_snapshot

class PercySDK:

  @classmethod
  def screenshot(cls,driver, name, **kwargs):
    percy_screenshot(driver, name, **kwargs)
  
  # def snapshot(driver, name, **kwargs):
  #   if 'browserName' not in driver.desired_capabilities:
  #     return

  #   current_browser = driver.desired_capabilities['browserName'].lower()
  #   # handling for edge browser
  #   if current_browser == 'msedge':
  #     current_browser = 'edge'

  #   best_browser = os.environ.get('PERCY_BEST_PLATFORM', current_browser)
  #   if best_browser != current_browser:
  #     return

  #   percy_snapshot(driver, name, **kwargs)
